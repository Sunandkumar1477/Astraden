# Apache .htaccess for Clean URLs (Remove .php extension)
# This file works with XAMPP/Apache

# Enable Rewrite Engine
RewriteEngine On

# Redirect .php URLs to clean URLs (without .php extension)
# This redirects: example.com/page.php to example.com/page
RewriteCond %{THE_REQUEST} ^[A-Z]{3,}\s([^.]+)\.php [NC]
RewriteRule ^ %1 [R=301,L]

# Handle clean URLs - if file doesn't exist, try adding .php extension
# This allows: example.com/page to work and internally process page.php
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME}.php -f
RewriteRule ^(.*)$ $1.php [L]

# Prevent direct access to .php files (optional - uncomment if you want to force clean URLs only)
# RewriteCond %{THE_REQUEST} \s/+(.+?)\.php[\s?] [NC]
# RewriteRule ^ /%1 [R=301,L]

# Security: Deny access to sensitive files
<FilesMatch "\.(sql|log|md|txt|env|ini|conf|bak)$">
    Order allow,deny
    Deny from all
</FilesMatch>

# Prevent directory listing
Options -Indexes

# Custom error pages (optional)
# ErrorDocument 404 /404.html
# ErrorDocument 500 /500.html

